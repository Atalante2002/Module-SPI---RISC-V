$date
	Thu Nov 21 04:47:02 2024
$end
$version
	Icarus Verilog
$end
$timescale
	1s
$end
$scope module spi_control_tb $end
$var wire 1 ! interrpt $end
$var wire 1 " SS $end
$var wire 32 # SPI_DATA_IN [31:0] $end
$var wire 1 $ SCK $end
$var wire 1 % MOSI $end
$var reg 1 & MISO $end
$var reg 32 ' SPI_BITRATE [31:0] $end
$var reg 9 ( SPI_CTRL [8:0] $end
$var reg 32 ) SPI_DATA_OUT [31:0] $end
$var reg 1 * clk_cpu $end
$var reg 1 + rst $end
$scope module spi_logic $end
$var wire 1 & MISO $end
$var wire 32 , SPI_BITRATE [31:0] $end
$var wire 9 - SPI_CTRL [8:0] $end
$var wire 32 . SPI_DATA_OUT [31:0] $end
$var wire 1 " SS $end
$var wire 1 * clk_cpu $end
$var wire 1 + rst $end
$var wire 1 / done $end
$var wire 1 0 clk_divider $end
$var wire 1 1 SPI_START $end
$var wire 1 2 SPI_ON $end
$var wire 2 3 SPI_MODE [1:0] $end
$var wire 1 4 SPI_I_MSK $end
$var wire 1 5 SPI_FRAME_START $end
$var wire 2 6 SPI_DATA_LEN [1:0] $end
$var wire 32 7 SPI_DATA_IN [31:0] $end
$var wire 1 8 SPI_BIT_ORDER $end
$var wire 1 $ SCK $end
$var wire 32 9 NEW_SPI_DATA_OUT [31:0] $end
$var wire 1 % MOSI $end
$var parameter 3 : DONE $end
$var parameter 3 ; FRAME_STOP $end
$var parameter 3 < IDLE $end
$var parameter 3 = LOAD $end
$var parameter 3 > TRANSMIT $end
$var reg 1 ? SCK_inter $end
$var reg 3 @ corrent_state [2:0] $end
$var reg 1 A en_SCK $end
$var reg 1 ! interrpt $end
$var reg 1 B load_data $end
$var reg 3 C next_state [2:0] $end
$scope module clock_divider $end
$var wire 1 * clk_cpu $end
$var wire 1 A en $end
$var wire 1 + rst $end
$var wire 32 D spi_bitrate [31:0] $end
$var reg 1 0 SCK $end
$var integer 32 E counter [31:0] $end
$upscope $end
$scope module data_order $end
$var wire 1 8 SPI_BIT_ORDER $end
$var wire 32 F SPI_DATA_IN [31:0] $end
$var wire 1 B en $end
$var wire 1 + rst $end
$var parameter 32 G DATA_WIDTH $end
$var reg 32 H SPI_DATA_OUT [31:0] $end
$var integer 32 I i [31:0] $end
$upscope $end
$scope module piso_sipo_spi $end
$var wire 1 & MISO $end
$var wire 2 J SPI_DATA_LEN [1:0] $end
$var wire 1 ? clk $end
$var wire 32 K data_in [31:0] $end
$var wire 1 B load $end
$var wire 1 + rst $end
$var parameter 32 L DATA_WIDTH $end
$var reg 1 % MOSI $end
$var reg 6 M couter_bit [5:0] $end
$var reg 5 N data_len [4:0] $end
$var reg 32 O data_out [31:0] $end
$var reg 1 / done $end
$var reg 32 P shift_reg [31:0] $end
$upscope $end
$upscope $end
$upscope $end
$enddefinitions $end
$comment Show the parameter values. $end
$dumpall
b100000 L
b100000 G
b10 >
b1 =
b0 <
b100 ;
b11 :
$end
#0
$dumpvars
b0 P
b0 O
b0 N
b100001 M
b0 K
b0 J
bx I
b0 H
b0 F
b0 E
b10 D
b0 C
0B
0A
b0 @
0?
b0 9
08
b0 7
b0 6
05
04
b0 3
02
01
00
0/
b0 .
b0 -
b10 ,
1+
0*
b0 )
b0 (
b10 '
0&
0%
0$
b0 #
0"
x!
$end
#5
1*
#10
0*
#15
1*
#20
0*
#25
1*
#30
0*
#35
1*
#40
0*
#45
1*
#50
0*
#55
1*
#60
0*
#65
1*
#70
0*
#75
1*
#80
0*
#85
1*
#90
0*
#95
1*
#100
0*
#105
1*
#110
0*
#115
1*
#120
0*
#125
1*
#130
0*
#135
1*
#140
0*
#145
1*
#150
0*
#155
1*
#160
0*
#165
1*
#170
0*
#175
1*
#180
0*
#185
1*
#190
0*
#195
1*
#200
0*
0+
#205
1*
#210
0*
#215
1*
#220
0*
#225
1*
#230
0*
#235
1*
#240
0*
#245
1*
#250
1$
b10 3
b1 6
b1 J
15
0*
b10001100 (
b10001100 -
#255
1*
#260
0*
#265
1*
#270
0*
#275
1*
#280
0*
#285
1*
#290
0*
#295
1*
#300
0*
#305
1*
#310
0*
#315
1*
#320
0*
#325
1*
#330
0*
#335
1*
#340
0*
#345
1*
#350
1A
b1 C
12
11
0*
1&
b110001110 (
b110001110 -
b1001 )
b1001 .
b1001 F
#355
b1001 P
b1001 9
b1001 H
b1001 K
b10000 N
b0 M
b10 C
1B
b1 E
b1 @
1*
#360
0*
#365
b1 M
b10011 P
1?
0$
0B
b10 @
10
b0 E
1*
#370
0*
#375
b1 E
1*
#380
0*
#385
0?
1$
00
b0 E
1*
#390
0*
#395
b1 E
1*
#400
0*
0&
#405
b10 M
b100110 P
1?
0$
10
b0 E
1*
#410
0*
#415
b1 E
1*
#420
0*
#425
0?
1$
00
b0 E
1*
#430
0*
#435
b1 E
1*
#440
0*
#445
b11 M
b1001100 P
1?
0$
10
b0 E
1*
#450
0*
1&
#455
b1 E
1*
#460
0*
#465
0?
1$
00
b0 E
1*
#470
0*
#475
b1 E
1*
#480
0*
#485
b100 M
b10011001 P
1?
0$
10
b0 E
1*
#490
0*
#495
b1 E
1*
#500
18
01
0*
b110101100 (
b110101100 -
0&
#505
0?
1$
00
b0 E
1*
#510
0*
#515
b1 E
1*
#520
0*
#525
b101 M
b100110010 P
1?
0$
10
b0 E
1*
#530
0*
#535
b1 E
1*
#540
0*
#545
0?
1$
00
b0 E
1*
#550
0*
#555
b1 E
1*
#560
0*
#565
b110 M
b1001100100 P
1?
0$
10
b0 E
1*
#570
0*
#575
b1 E
1*
#580
0*
#585
0?
1$
00
b0 E
1*
#590
0*
#595
b1 E
1*
#600
0*
#605
b111 M
b10011001000 P
1?
0$
10
b0 E
1*
#610
0*
#615
b1 E
1*
#620
0*
#625
0?
1$
00
b0 E
1*
#630
0*
#635
b1 E
1*
#640
0*
#645
b1000 M
b100110010000 P
1?
0$
10
b0 E
1*
#650
0*
#655
b1 E
1*
#660
0*
#665
0?
1$
00
b0 E
1*
#670
0*
#675
b1 E
1*
#680
0*
#685
b1001 M
b1001100100000 P
1?
0$
10
b0 E
1*
#690
0*
#695
b1 E
1*
#700
0*
#705
0?
1$
00
b0 E
1*
#710
0*
#715
b1 E
1*
#720
0*
#725
b1010 M
b10011001000000 P
1?
0$
10
b0 E
1*
#730
0*
#735
b1 E
1*
#740
0*
#745
0?
1$
00
b0 E
1*
#750
0*
#755
b1 E
1*
#760
0*
#765
b1011 M
b100110010000000 P
1?
0$
10
b0 E
1*
#770
0*
#775
b1 E
1*
#780
0*
#785
0?
1$
00
b0 E
1*
#790
0*
#795
b1 E
1*
#800
0*
#805
b1100 M
b1001100100000000 P
1?
0$
10
b0 E
1*
#810
0*
#815
b1 E
1*
#820
0*
#825
0?
1$
00
b0 E
1*
#830
0*
#835
b1 E
1*
#840
0*
#845
b1101 M
b10011001000000000 P
1%
1?
0$
10
b0 E
1*
#850
0*
#855
b1 E
1*
#860
0*
#865
0?
1$
00
b0 E
1*
#870
0*
#875
b1 E
1*
#880
0*
#885
b1110 M
b100110010000000000 P
0%
1?
0$
10
b0 E
1*
#890
0*
#895
b1 E
1*
#900
0*
#905
0?
1$
00
b0 E
1*
#910
0*
#915
b1 E
1*
#920
0*
#925
b1111 M
b1001100100000000000 P
1?
0$
10
b0 E
1*
#930
0*
#935
b1 E
1*
#940
0*
#945
0?
1$
00
b0 E
1*
#950
0*
#955
b1 E
1*
#960
0*
#965
b10000 M
b10011001000000000000 P
1%
1?
0$
10
b0 E
1*
#970
0*
#975
b1 E
1*
#980
0*
#985
0?
1$
00
b0 E
1*
#990
0*
#995
b1 E
1*
#1000
0*
#1005
b11 C
0%
1"
1/
b10011001000000000000 #
b10011001000000000000 7
b10011001000000000000 O
1?
0$
10
b0 E
1*
#1010
0*
#1015
b0 C
b1 E
b11 @
1*
#1020
0*
#1025
0?
1$
b1 C
b0 @
00
b0 E
1*
#1030
0*
#1035
b1 E
b1 @
1*
#1040
0*
#1045
1?
0$
10
b0 E
1*
#1050
0*
#1055
b1 E
1*
#1060
0*
#1065
0?
1$
00
b0 E
1*
#1070
0*
#1075
b1 E
1*
#1080
0*
#1085
1?
0$
10
b0 E
1*
#1090
0*
#1095
b1 E
1*
#1100
0*
#1105
0?
1$
00
b0 E
1*
#1110
0*
#1115
b1 E
1*
#1120
0*
#1125
1?
0$
10
b0 E
1*
#1130
0*
#1135
b1 E
1*
#1140
0*
#1145
0?
1$
00
b0 E
1*
#1150
0*
#1155
b1 E
1*
#1160
0*
#1165
1?
0$
10
b0 E
1*
#1170
0*
#1175
b1 E
1*
#1180
0*
#1185
0?
1$
00
b0 E
1*
#1190
0*
#1195
b1 E
1*
#1200
0*
#1205
1?
0$
10
b0 E
1*
#1210
0*
#1215
b1 E
1*
#1220
0*
#1225
0?
1$
00
b0 E
1*
#1230
0*
#1235
b1 E
1*
#1240
0*
#1245
1?
0$
10
b0 E
1*
#1250
0*
#1255
b1 E
1*
#1260
0*
#1265
0?
1$
00
b0 E
1*
#1270
0*
#1275
b1 E
1*
#1280
0*
#1285
1?
0$
10
b0 E
1*
#1290
0*
#1295
b1 E
1*
#1300
0*
#1305
0?
1$
00
b0 E
1*
#1310
0*
#1315
b1 E
1*
#1320
0*
#1325
1?
0$
10
b0 E
1*
#1330
0*
#1335
b1 E
1*
#1340
0*
#1345
0?
1$
00
b0 E
1*
#1350
0*
#1355
b1 E
1*
#1360
0*
#1365
1?
0$
10
b0 E
1*
#1370
0*
#1375
b1 E
1*
#1380
0*
#1385
0?
1$
00
b0 E
1*
#1390
0*
#1395
b1 E
1*
#1400
0*
#1405
1?
0$
10
b0 E
1*
#1410
0*
#1415
b1 E
1*
#1420
0*
#1425
0?
1$
00
b0 E
1*
#1430
0*
#1435
b1 E
1*
#1440
0*
#1445
1?
0$
10
b0 E
1*
#1450
0*
#1455
b1 E
1*
#1460
0*
#1465
0?
1$
00
b0 E
1*
#1470
0*
#1475
b1 E
1*
#1480
0*
#1485
1?
0$
10
b0 E
1*
#1490
0*
#1495
b1 E
1*
#1500
0*
